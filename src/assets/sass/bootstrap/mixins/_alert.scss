@use "sass:color";
@use "sass:meta";
@use "../functions" as functions;
@use "gradients";

// Safe shade wrapper
@function safe-shade($c, $amount) {
  @if meta.type-of($c) != "color" {
    @return $c; // fallback
  }
  @return functions.shade-color($c, $amount);
}

// Safe color fallback
@function safe-color($value, $fallback) {
  @return if(meta.type-of($value) == "color", $value, $fallback);
}

@mixin alert-variant($background, $border, $color) {
  // Normalized safe values
  $bg: safe-color($background, #fff);
  $bd: safe-color($border, $bg);
  $fg: safe-color($color, #000);

  color: $fg;

  // Protect gradient mixin â€” pass valid color only
  @include gradients.gradient-bg($bg);

  border-color: $bd;

  .alert-link {
    color: safe-shade($fg, 20%);
  }
}
